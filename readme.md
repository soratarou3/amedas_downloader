# アメダスダウンローダー
このプログラムは、気象庁アメダスの観測データを取得し、CSV形式で保存するプログラムです。  
取得元は気象庁HPの[過去の気象データ検索](https://www.data.jma.go.jp/stats/etrn/index.php)です。

# 動作環境
- Python
  - 開発は3.9.12と3.9.13で行った
  - 下記のライブラリをインストールする必要があります
    - BeautifulSoup
    - requests

# 使い方
1. ```main.py```を実行する
   - コンソール上での実行例：```python main.py```
   - Spyderなどの統合開発環境で開いて、そこで動かしてもOK
2. 取得したいデータの種類を入力する
   - 日毎：「d」を入力
   - １時間値：「h」を入力
   - １０分値：「10」を入力
3. 取得したい期間の最初の日付を入力する
   - 入力する日付は以下のフォーマットで入力してください
     - 日毎：「yyyy-mm」
     - １時間値・１０分値：「yyyy-mm-dd」
       - yyyy：年、mm：月、dd：日
   - 「１月」や、「１日」のような１桁の数字は「01」のように、ゼロをつけて２桁で入力してください
   - 例：２０２０年１月１日 -> 2020-01-01
4. 取得したい期間の最後の日付を入力する
   - 入力方法は上記と同じです
5. 地点名を入力する
   - 地点名はローマ字で「都道府県名_地点名」の形で入力してください
     - 例：東京都の東京 -> Tokyo_Tokyo
   - 地点名は```src/stationdata.dat```にまとめてあります
   - 半角スペース区切りで複数地点入力できます
6. ダウンロードしたデータは```outputs```フォルダに格納されます
   - ファイル名は「地点名_期間_データの種類」となっています

# プログラムが動かない時
```amedas_downloader.log```にエラーの詳細なログを書き出すようにしています。

参考にしてください。

# ディレクトリ構成
```
amedas_downloader/
  ├ outputs/ ※データDL時に自動作成
  ├ src/
  │   └ stationdata.dat アメダス地点のマスタデータ
  ├ amedas_downloader.log ログファイル（主にエラーログ）
  ├ const.py 定数などが書かれている
  ├ main.py メインのプログラム
  ├ readme.md このファイル
  └ station.py アメダス地点のデータクラス
```